{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import Grid from\"@material-ui/core/Grid\";import MenuItem from\"@material-ui/core/MenuItem\";import FormControl from\"@material-ui/core/FormControl\";import InputLabel from\"@material-ui/core/InputLabel\";import Select from\"@material-ui/core/Select\";import FormHelperText from\"@material-ui/core/FormHelperText\";import TextField from\"@material-ui/core/TextField\";import Title from\"../Title\";import Paper from\"@material-ui/core/Paper\";import Typography from\"@material-ui/core/Typography\";import useSettings from\"../../hooks/useSettings\";import{ToastContainer,toast}from'react-toastify';import{makeStyles}from\"@material-ui/core/styles\";import{grey,blue}from\"@material-ui/core/colors\";import{Tabs,Tab}from\"@material-ui/core\";import{i18n}from\"../../translate/i18n\";//import 'react-toastify/dist/ReactToastify.css';\nconst useStyles=makeStyles(theme=>({container:{paddingTop:theme.spacing(4),paddingBottom:theme.spacing(4)},fixedHeightPaper:{padding:theme.spacing(2),display:\"flex\",overflow:\"auto\",flexDirection:\"column\",height:240},tab:{backgroundColor:theme.palette.options,//DARK MODE PLW DESIGN//\nborderRadius:4,width:\"100%\",\"& .MuiTab-wrapper\":{color:theme.palette.fontecor},//DARK MODE PLW DESIGN//\n\"& .MuiTabs-flexContainer\":{justifyContent:\"center\"}},paper:{padding:theme.spacing(2),display:\"flex\",alignItems:\"center\",marginBottom:12,width:\"100%\"},cardAvatar:{fontSize:\"55px\",color:grey[500],backgroundColor:\"#ffffff\",width:theme.spacing(7),height:theme.spacing(7)},cardTitle:{fontSize:\"18px\",color:blue[700]},cardSubtitle:{color:grey[600],fontSize:\"14px\"},alignRight:{textAlign:\"right\"},fullWidth:{width:\"100%\"},selectContainer:{width:\"100%\",textAlign:\"left\"}}));export default function Options(props){const{settings,scheduleTypeChanged}=props;const classes=useStyles();const[userRating,setUserRating]=useState(\"disabled\");const[scheduleType,setScheduleType]=useState(\"disabled\");const[callType,setCallType]=useState(\"enabled\");const[chatbotType,setChatbotType]=useState(\"\");const[CheckMsgIsGroup,setCheckMsgIsGroupType]=useState(\"enabled\");const[loadingUserRating,setLoadingUserRating]=useState(false);const[loadingScheduleType,setLoadingScheduleType]=useState(false);const[loadingCallType,setLoadingCallType]=useState(false);const[loadingChatbotType,setLoadingChatbotType]=useState(false);const[loadingCheckMsgIsGroup,setCheckMsgIsGroup]=useState(false);//const [ipixcType, setIpIxcType] = useState(\"\");\n//const [loadingIpIxcType, setLoadingIpIxcType] = useState(false);\n//const [tokenixcType, setTokenIxcType] = useState(\"\");\n//const [loadingTokenIxcType, setLoadingTokenIxcType] = useState(false);\n//const [ipmkauthType, setIpMkauthType] = useState(\"\");\n//const [loadingIpMkauthType, setLoadingIpMkauthType] = useState(false);\n//const [clientidmkauthType, setClientIdMkauthType] = useState(\"\");\n//const [loadingClientIdMkauthType, setLoadingClientIdMkauthType] = useState(false);\n//const [clientsecretmkauthType, setClientSecrectMkauthType] = useState(\"\");\n//const [loadingClientSecrectMkauthType, setLoadingClientSecrectMkauthType] = useState(false);\nconst[asaasType,setAsaasType]=useState(\"\");const[loadingAsaasType,setLoadingAsaasType]=useState(false);// recursos a mais da plw design\nconst[SendGreetingAccepted,setSendGreetingAccepted]=useState(\"disabled\");const[loadingSendGreetingAccepted,setLoadingSendGreetingAccepted]=useState(false);const[SettingsTransfTicket,setSettingsTransfTicket]=useState(\"disabled\");const[loadingSettingsTransfTicket,setLoadingSettingsTransfTicket]=useState(false);const[sendGreetingMessageOneQueues,setSendGreetingMessageOneQueues]=useState(\"disabled\");const[loadingSendGreetingMessageOneQueues,setLoadingSendGreetingMessageOneQueues]=useState(false);const{update}=useSettings();useEffect(()=>{if(Array.isArray(settings)&&settings.length){const userRating=settings.find(s=>s.key===\"userRating\");if(userRating){setUserRating(userRating.value);}const scheduleType=settings.find(s=>s.key===\"scheduleType\");if(scheduleType){setScheduleType(scheduleType.value);}const callType=settings.find(s=>s.key===\"call\");if(callType){setCallType(callType.value);}const CheckMsgIsGroup=settings.find(s=>s.key===\"CheckMsgIsGroup\");if(CheckMsgIsGroup){setCheckMsgIsGroupType(CheckMsgIsGroup.value);}{/*PLW DESIGN SAUDAÇÃO*/}const SendGreetingAccepted=settings.find(s=>s.key===\"sendGreetingAccepted\");if(SendGreetingAccepted){setSendGreetingAccepted(SendGreetingAccepted.value);}{/*PLW DESIGN SAUDAÇÃO*/}{/*TRANSFERIR TICKET*/}const SettingsTransfTicket=settings.find(s=>s.key===\"sendMsgTransfTicket\");if(SettingsTransfTicket){setSettingsTransfTicket(SettingsTransfTicket.value);}{/*TRANSFERIR TICKET*/}const sendGreetingMessageOneQueues=settings.find(s=>s.key===\"sendGreetingMessageOneQueues\");if(sendGreetingMessageOneQueues){setSendGreetingMessageOneQueues(sendGreetingMessageOneQueues.value);}const chatbotType=settings.find(s=>s.key===\"chatBotType\");if(chatbotType){setChatbotType(chatbotType.value);}{/*const ipixcType = settings.find((s) => s.key === \"ipixc\");\n      if (ipixcType) {\n        setIpIxcType(ipixcType.value);\n      }*/}{/*const tokenixcType = settings.find((s) => s.key === \"tokenixc\");\n      if (tokenixcType) {\n        setTokenIxcType(tokenixcType.value);\n      }*/}{/*const ipmkauthType = settings.find((s) => s.key === \"ipmkauth\");\n      if (ipmkauthType) {\n        setIpMkauthType(ipmkauthType.value);\n      }*/}{/* const clientidmkauthType = settings.find((s) => s.key === \"clientidmkauth\");\n      if (clientidmkauthType) {\n        setClientIdMkauthType(clientidmkauthType.value);\n      }*/}{/*const clientsecretmkauthType = settings.find((s) => s.key === \"clientsecretmkauth\");\n      if (clientsecretmkauthType) {\n        setClientSecrectMkauthType(clientsecretmkauthType.value);\n      }*/}const asaasType=settings.find(s=>s.key===\"asaas\");if(asaasType){setAsaasType(asaasType.value);}}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[settings]);async function handleChangeUserRating(value){setUserRating(value);setLoadingUserRating(true);await update({key:\"userRating\",value});toast.success(i18n.t(\"settings.options.toasts.success\"));setLoadingUserRating(false);}async function handleSendGreetingMessageOneQueues(value){setSendGreetingMessageOneQueues(value);setLoadingSendGreetingMessageOneQueues(true);await update({key:\"sendGreetingMessageOneQueues\",value});toast.success(i18n.t(\"settings.options.toasts.success\"));setLoadingSendGreetingMessageOneQueues(false);}async function handleScheduleType(value){setScheduleType(value);setLoadingScheduleType(true);await update({key:\"scheduleType\",value});//toast.success(\"Oraçãpeo atualizada com sucesso.\");\ntoast.success(i18n.t(\"settings.options.toasts.success\"),{position:\"top-right\",autoClose:2000,hideProgressBar:false,closeOnClick:true,pauseOnHover:false,draggable:true,theme:\"light\"});setLoadingScheduleType(false);if(typeof scheduleTypeChanged===\"function\"){scheduleTypeChanged(value);}}async function handleCallType(value){setCallType(value);setLoadingCallType(true);await update({key:\"call\",value});toast.success(i18n.t(\"settings.options.toasts.success\"));setLoadingCallType(false);}async function handleChatbotType(value){setChatbotType(value);setLoadingChatbotType(true);await update({key:\"chatBotType\",value});toast.success(i18n.t(\"settings.options.toasts.success\"));setLoadingChatbotType(false);}async function handleGroupType(value){setCheckMsgIsGroupType(value);setCheckMsgIsGroup(true);await update({key:\"CheckMsgIsGroup\",value});toast.success(i18n.t(\"settings.options.toasts.success\"));setCheckMsgIsGroupType(false);/*     if (typeof scheduleTypeChanged === \"function\") {\n          scheduleTypeChanged(value);\n        } */}{/*NOVO CÓDIGO*/}async function handleSendGreetingAccepted(value){setSendGreetingAccepted(value);setLoadingSendGreetingAccepted(true);await update({key:\"sendGreetingAccepted\",value});toast.success(i18n.t(\"settings.options.toasts.success\"));setLoadingSendGreetingAccepted(false);}{/*NOVO CÓDIGO*/}async function handleSettingsTransfTicket(value){setSettingsTransfTicket(value);setLoadingSettingsTransfTicket(true);await update({key:\"sendMsgTransfTicket\",value});toast.success(i18n.t(\"settings.options.toasts.success\"));setLoadingSettingsTransfTicket(false);}{/*async function handleChangeIPIxc(value) {\n    setIpIxcType(value);\n    setLoadingIpIxcType(true);\n    await update({\n      key: \"ipixc\",\n      value,\n    });\n    toast.success(i18n.t(\"settings.options.toasts.success\"));\n    setLoadingIpIxcType(false);\n  }\n\n   {/*async function handleChangeTokenIxc(value) {\n    setTokenIxcType(value);\n    setLoadingTokenIxcType(true);\n    await update({\n      key: \"tokenixc\",\n      value,\n    });\n    toast.success(i18n.t(\"settings.options.toasts.success\"));\n    setLoadingTokenIxcType(false);\n  }\n\n  async function handleChangeIpMkauth(value) {\n    setIpMkauthType(value);\n    setLoadingIpMkauthType(true);\n    await update({\n      key: \"ipmkauth\",\n      value,\n    });\n    toast.success(i18n.t(\"settings.options.toasts.success\"));\n    setLoadingIpMkauthType(false);\n  }\n\n  async function handleChangeClientIdMkauth(value) {\n    setClientIdMkauthType(value);\n    setLoadingClientIdMkauthType(true);\n    await update({\n      key: \"clientidmkauth\",\n      value,\n    });\n    toast.success(i18n.t(\"settings.options.toasts.success\"));\n    setLoadingClientIdMkauthType(false);\n  }\n\n  async function handleChangeClientSecrectMkauth(value) {\n    setClientSecrectMkauthType(value);\n    setLoadingClientSecrectMkauthType(true);\n    await update({\n      key: \"clientsecretmkauth\",\n      value,\n    });\n    toast.success(i18n.t(\"settings.options.toasts.success\"));\n    setLoadingClientSecrectMkauthType(false);\n  }*/}async function handleChangeAsaas(value){setAsaasType(value);setLoadingAsaasType(true);await update({key:\"asaas\",value});toast.success(i18n.t(\"settings.options.toasts.success\"));setLoadingAsaasType(false);}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Grid,{spacing:3,container:true},/*#__PURE__*/React.createElement(Grid,{xs:12,sm:6,md:4,item:true},/*#__PURE__*/React.createElement(FormControl,{className:classes.selectContainer},/*#__PURE__*/React.createElement(InputLabel,{id:\"ratings-label\"},i18n.t(\"settings.options.fields.ratings.title\")),/*#__PURE__*/React.createElement(Select,{labelId:\"ratings-label\",value:userRating,onChange:async e=>{handleChangeUserRating(e.target.value);}},/*#__PURE__*/React.createElement(MenuItem,{value:\"disabled\"},i18n.t(\"settings.options.fields.ratings.disabled\")),/*#__PURE__*/React.createElement(MenuItem,{value:\"enabled\"},i18n.t(\"settings.options.fields.ratings.enabled\"))),/*#__PURE__*/React.createElement(FormHelperText,null,loadingUserRating&&i18n.t(\"settings.options.updating\")))),/*#__PURE__*/React.createElement(Grid,{xs:12,sm:6,md:4,item:true},/*#__PURE__*/React.createElement(FormControl,{className:classes.selectContainer},/*#__PURE__*/React.createElement(InputLabel,{id:\"schedule-type-label\"},i18n.t(\"settings.options.fields.expedientManager.title\")),/*#__PURE__*/React.createElement(Select,{labelId:\"schedule-type-label\",value:scheduleType,onChange:async e=>{handleScheduleType(e.target.value);}},/*#__PURE__*/React.createElement(MenuItem,{value:\"disabled\"},i18n.t(\"settings.options.fields.disabled\")),/*#__PURE__*/React.createElement(MenuItem,{value:\"queue\"},i18n.t(\"settings.options.fields.expedientManager.queue\")),/*#__PURE__*/React.createElement(MenuItem,{value:\"company\"},i18n.t(\"settings.options.fields.expedientManager.company\"))),/*#__PURE__*/React.createElement(FormHelperText,null,loadingScheduleType&&i18n.t(\"settings.options.updating\")))),/*#__PURE__*/React.createElement(Grid,{xs:12,sm:6,md:4,item:true},/*#__PURE__*/React.createElement(FormControl,{className:classes.selectContainer},/*#__PURE__*/React.createElement(InputLabel,{id:\"group-type-label\"},i18n.t(\"settings.options.fields.ignoreMessages.title\")),/*#__PURE__*/React.createElement(Select,{labelId:\"group-type-label\",value:CheckMsgIsGroup,onChange:async e=>{handleGroupType(e.target.value);}},/*#__PURE__*/React.createElement(MenuItem,{value:\"disabled\"},i18n.t(\"settings.options.fields.disabled\")),/*#__PURE__*/React.createElement(MenuItem,{value:\"enabled\"},i18n.t(\"settings.options.fields.active\"))),/*#__PURE__*/React.createElement(FormHelperText,null,loadingScheduleType&&i18n.t(\"settings.options.updating\")))),/*#__PURE__*/React.createElement(Grid,{xs:12,sm:6,md:4,item:true},/*#__PURE__*/React.createElement(FormControl,{className:classes.selectContainer},/*#__PURE__*/React.createElement(InputLabel,{id:\"call-type-label\"},i18n.t(\"settings.options.fields.acceptCall.title\")),/*#__PURE__*/React.createElement(Select,{labelId:\"call-type-label\",value:callType,onChange:async e=>{handleCallType(e.target.value);}},/*#__PURE__*/React.createElement(MenuItem,{value:\"disabled\"},i18n.t(\"settings.options.fields.acceptCall.disabled\")),/*#__PURE__*/React.createElement(MenuItem,{value:\"enabled\"},i18n.t(\"settings.options.fields.acceptCall.enabled\"))),/*#__PURE__*/React.createElement(FormHelperText,null,loadingCallType&&i18n.t(\"settings.options.updating\")))),/*#__PURE__*/React.createElement(Grid,{xs:12,sm:6,md:4,item:true},/*#__PURE__*/React.createElement(FormControl,{className:classes.selectContainer},/*#__PURE__*/React.createElement(InputLabel,{id:\"chatbot-type-label\"},i18n.t(\"settings.options.fields.chatbotType.title\")),/*#__PURE__*/React.createElement(Select,{labelId:\"chatbot-type-label\",value:chatbotType,onChange:async e=>{handleChatbotType(e.target.value);}},/*#__PURE__*/React.createElement(MenuItem,{value:\"text\"},i18n.t(\"settings.options.fields.chatbotType.text\"))),/*#__PURE__*/React.createElement(FormHelperText,null,loadingChatbotType&&i18n.t(\"settings.options.updating\")))),/*#__PURE__*/React.createElement(Grid,{xs:12,sm:6,md:4,item:true},/*#__PURE__*/React.createElement(FormControl,{className:classes.selectContainer},/*#__PURE__*/React.createElement(InputLabel,{id:\"sendGreetingAccepted-label\"},i18n.t(\"settings.options.fields.sendGreetingAccepted.title\")),/*#__PURE__*/React.createElement(Select,{labelId:\"sendGreetingAccepted-label\",value:SendGreetingAccepted,onChange:async e=>{handleSendGreetingAccepted(e.target.value);}},/*#__PURE__*/React.createElement(MenuItem,{value:\"disabled\"},i18n.t(\"settings.options.fields.disabled\")),/*#__PURE__*/React.createElement(MenuItem,{value:\"enabled\"},i18n.t(\"settings.options.fields.enabled\"))),/*#__PURE__*/React.createElement(FormHelperText,null,loadingSendGreetingAccepted&&i18n.t(\"settings.options.updating\")))),/*#__PURE__*/React.createElement(Grid,{xs:12,sm:6,md:4,item:true},/*#__PURE__*/React.createElement(FormControl,{className:classes.selectContainer},/*#__PURE__*/React.createElement(InputLabel,{id:\"sendMsgTransfTicket-label\"},i18n.t(\"settings.options.fields.sendMsgTransfTicket.title\")),/*#__PURE__*/React.createElement(Select,{labelId:\"sendMsgTransfTicket-label\",value:SettingsTransfTicket,onChange:async e=>{handleSettingsTransfTicket(e.target.value);}},/*#__PURE__*/React.createElement(MenuItem,{value:\"disabled\"},i18n.t(\"settings.options.fields.disabled\")),/*#__PURE__*/React.createElement(MenuItem,{value:\"enabled\"},i18n.t(\"settings.options.fields.enabled\"))),/*#__PURE__*/React.createElement(FormHelperText,null,loadingSettingsTransfTicket&&i18n.t(\"settings.options.updating\")))),/*#__PURE__*/React.createElement(Grid,{xs:12,sm:6,md:4,item:true},/*#__PURE__*/React.createElement(FormControl,{className:classes.selectContainer},/*#__PURE__*/React.createElement(InputLabel,{id:\"sendGreetingMessageOneQueues-label\"},i18n.t(\"settings.options.fields.sendGreetingMessageOneQueues.title\")),/*#__PURE__*/React.createElement(Select,{labelId:\"sendGreetingMessageOneQueues-label\",value:sendGreetingMessageOneQueues,onChange:async e=>{handleSendGreetingMessageOneQueues(e.target.value);}},/*#__PURE__*/React.createElement(MenuItem,{value:\"disabled\"},i18n.t(\"settings.options.fields.disabled\")),/*#__PURE__*/React.createElement(MenuItem,{value:\"enabled\"},i18n.t(\"settings.options.fields.enabled\"))),/*#__PURE__*/React.createElement(FormHelperText,null,loadingSendGreetingMessageOneQueues&&i18n.t(\"settings.options.updating\"))))),/*#__PURE__*/React.createElement(Grid,{spacing:3,container:true},/*#__PURE__*/React.createElement(Tabs,{indicatorColor:\"primary\",textColor:\"primary\",scrollButtons:\"on\",variant:\"scrollable\",className:classes.tab,style:{marginBottom:20,marginTop:20}},/*#__PURE__*/React.createElement(Tab,{label:i18n.t(\"settings.options.tabs.integrations\")}))),/*#__PURE__*/React.createElement(Grid,{spacing:3,container:true,style:{marginBottom:10}},/*#__PURE__*/React.createElement(Tabs,{indicatorColor:\"primary\",textColor:\"primary\",scrollButtons:\"on\",variant:\"scrollable\",className:classes.tab},/*#__PURE__*/React.createElement(Tab,{label:\"ASAAS\"})),/*#__PURE__*/React.createElement(Grid,{xs:12,sm:12,md:12,item:true},/*#__PURE__*/React.createElement(FormControl,{className:classes.selectContainer},/*#__PURE__*/React.createElement(TextField,{id:\"asaas\",name:\"asaas\",margin:\"dense\",label:\"Token Asaas\",variant:\"outlined\",value:asaasType,onChange:async e=>{handleChangeAsaas(e.target.value);}}),/*#__PURE__*/React.createElement(FormHelperText,null,loadingAsaasType&&i18n.t(\"settings.options.updating\"))))));}","map":null,"metadata":{},"sourceType":"module"}